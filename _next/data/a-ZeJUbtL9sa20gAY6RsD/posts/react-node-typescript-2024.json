{"pageProps":{"postData":{"id":"react-node-typescript-2024","contentHtml":"<figure>\n    <img src=\"/images/react-node-typescript-2024.jpeg\">\n</figure>\n<hr>\n<p>React and Node.js have emerged as popular choices for frontend and backend development respectively, offering developers the flexibility and performance needed to create modern web experiences. When combining these technologies in a full stack application, employing TypeScript for type safety and consistency becomes invaluable. In this guide, we'll walk through the process of setting up a full stack React and Node app with shared TypeScript configuration, transpiled using ESBuild.</p>\n<hr>\n<h3><strong>Setting Up the Project Structure</strong></h3>\n<p>Before diving into code, let's establish a well-organized project structure. This ensures clarity and maintainability as the project grows. We'll organize our project into separate directories for the frontend and backend components. Here's a suggested structure:</p>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">project-root/\n‚îÇ\n‚îú‚îÄ‚îÄ client/\n‚îÇ   ‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.tsx\n‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json\n‚îÇ   ‚îî‚îÄ‚îÄ esbuild.mjs\n‚îÇ\n‚îî‚îÄ‚îÄ server/\n‚îÇ   ‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts\n‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json\n‚îÇ   ‚îî‚îÄ‚îÄ esbuild.mjs\n‚îÇ\n‚îú‚îÄ‚îÄ tsconfig.base.json\n‚îú‚îÄ‚îÄ esbuild.base.mjs\n‚îî‚îÄ‚îÄ package.json</code></pre></div>\n<p>In this structure, the <code class=\"language-unknown\">client</code> directory contains the React frontend code, while the <code class=\"language-unknown\">server</code> directory houses the Node.js backend code. Each directory has its own <code class=\"language-unknown\">src</code> folder for source code, a <code class=\"language-unknown\">tsconfig.json</code> file for TypeScript configuration, and a file for <code class=\"language-unknown\">esbuild.mjs</code> esbuild configs. Further, we will use <code class=\"language-unknown\">tsconfig.base.json</code> and <code class=\"language-unknown\">esbuild.base.mjs</code> for config options that are shared by both frontend and backend code, which will be extended by the respective config files in the <code class=\"language-unknown\">client</code> and <code class=\"language-unknown\">server</code> folders.</p>\n<hr>\n<h3>Barebones React and Node</h3>\n<p>I purposely kept the React and Node entry points simple and hopefully self-explanatory.</p>\n<h4>React</h4>\n<div class=\"remark-highlight\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// client/index.tsx</span>\n\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token maybe-class-name\">React</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token punctuation\">{</span> createRoot <span class=\"token punctuation\">}</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"react-dom/client\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\"><span class=\"token maybe-class-name\">App</span></span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> message <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> message<span class=\"token operator\">:</span> string <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword control-flow\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DOMContentLoaded\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> root <span class=\"token operator\">=</span> <span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span><span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [A]</span>\n  root<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">App</span></span> <span class=\"token attr-name\">message</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Hello World!!<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p><strong>[A]</strong> Make sure the root element ID matches that in the HTML page served by Node.</p>\n<h4>Node</h4>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// server/index.ts</span>\n\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">path</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"path\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">express</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"express\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">PORT</span> <span class=\"token operator\">=</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/public\"</span><span class=\"token punctuation\">,</span> express<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">static</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">join</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">cwd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"./dist/client\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [A]</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">send</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"></span>\n<span class=\"token string\">    &#x3C;!DOCTYPE html></span>\n<span class=\"token string\">    &#x3C;html></span>\n<span class=\"token string\">      &#x3C;head></span>\n<span class=\"token string\">        &#x3C;title>My App&#x3C;/title></span>\n<span class=\"token string\">      &#x3C;/head></span>\n<span class=\"token string\">      &#x3C;body></span>\n<span class=\"token string\">        &#x3C;div id=\"root\">&#x3C;/div></span>\n<span class=\"token string\">        &#x3C;script src=\"/public/bundle.js\">&#x3C;/script> &#x3C;!-- [A] --></span>\n<span class=\"token string\">      &#x3C;/body></span>\n<span class=\"token string\">    &#x3C;/html></span>\n<span class=\"token string\">  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">listen</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PORT</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Server running on http://localhost:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">PORT</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p><strong>[A]</strong> Serve the bundled frontend code as a static file.</p>\n<hr>\n<h3>TypeScript</h3>\n<p>When working on a full-stack project with TypeScript, using a common <code class=\"language-unknown\">tsconfig.base.json</code> file along with ‚Äúplatform-specific‚Äù configuration files can help maintain consistency while allowing flexibility for different environments. Again, I‚Äôm keeping my config files barebones for the sake of illustration.</p>\n<div class=\"remark-highlight\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.base.json</span>\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"esModuleInterop\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"noImplicitAny\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"./**/*.ts\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Platform-specific configuration files, that live in <code class=\"language-unknown\">client/tsconfig.json</code> for the frontend and <code class=\"language-unknown\">server/tsconfig.json</code> for the backend, inherit from <code class=\"language-unknown\">tsconfig.base.json</code> and override specific options. This approach allows you to customize settings without affecting the base configuration.</p>\n<p>For example, the frontend config might include options for JSX support and set to a lower <code class=\"language-unknown\">target</code> (e.g. ES5) if you need to support older browsers.</p>\n<div class=\"remark-highlight\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// client/tsconfig.json</span>\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"../tsconfig.base.json\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"jsx\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"target\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ES5\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"./**/*.ts\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"./**/*.tsx\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Whereas you may need to specify the <code class=\"language-unknown\">module</code> resolution option based on the Node version your backend runs on.</p>\n<div class=\"remark-highlight\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// server/tsconfig.json</span>\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"../tsconfig.base.json\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"target\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ESNext\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"module\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"NodeNext\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<hr>\n<h3>ESBuild</h3>\n<p>ESBuild configurations can follow a similar pattern, where a base config can contain settings common to both frontend and backend, and ‚Äúplatform-specific‚Äù configs can extend the base config to address unique requirements. Again, I‚Äôm keeping my configs barebones for the sake of illustration.</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// esbuild.mjs</span>\n\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">esbuildPluginTsc</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"esbuild-plugin-tsc\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> isDev <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">||</span> process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"development\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword module\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">createBuildSettings</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> tsconfigPath<span class=\"token punctuation\">,</span> tsx<span class=\"token punctuation\">,</span> <span class=\"token spread operator\">...</span>restOptions <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword control-flow\">return</span> <span class=\"token punctuation\">{</span>\n    minify<span class=\"token operator\">:</span> <span class=\"token operator\">!</span>isDev<span class=\"token punctuation\">,</span>\n    sourcemap<span class=\"token operator\">:</span> isDev<span class=\"token punctuation\">,</span>\n    bundle<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token function\">esbuildPluginTsc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        force<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        tsconfigPath<span class=\"token punctuation\">,</span>\n        tsx<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token spread operator\">...</span>restOptions<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Similarly, platform-specific configuration files that live in <code class=\"language-unknown\">client/esbuild.mjs</code> for the frontend and <code class=\"language-unknown\">server/esbuild.mjs</code> for the backend, inherit from <code class=\"language-unknown\">esbuild.base.mjs</code> augmented with additional options.</p>\n<p>In the frontend, options may include targeted browser versions, plugins to handle CSS modules, SVG imports, etc.</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// client/esbuild.mjs</span>\n\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">esbuild</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"esbuild\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token punctuation\">{</span> createBuildSettings <span class=\"token punctuation\">}</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"../esbuild.base.mjs\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> settings <span class=\"token operator\">=</span> <span class=\"token function\">createBuildSettings</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  platform<span class=\"token operator\">:</span> <span class=\"token string\">\"browser\"</span><span class=\"token punctuation\">,</span>\n  entryPoints<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"client/src/index.tsx\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  outfile<span class=\"token operator\">:</span> <span class=\"token string\">\"dist/client/bundle.js\"</span><span class=\"token punctuation\">,</span>\n  tsconfigPath<span class=\"token operator\">:</span> <span class=\"token string\">\"client/tsconfig.json\"</span><span class=\"token punctuation\">,</span>\n  tsx<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  target<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"chrome58\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"firefox57\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"safari11\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword control-flow\">await</span> esbuild<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">build</span><span class=\"token punctuation\">(</span>settings<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>In the backend, a common option is to avoid bundling <code class=\"language-unknown\">node_modules</code> packages. Since the backend runs in a Node environment, you might not need to bundle external dependencies, allowing Node to load them at runtime. This reduces the output size and simplifies server deployments.</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// server/esbuild.mjs</span>\n\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">esbuild</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"esbuild\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token punctuation\">{</span> createBuildSettings <span class=\"token punctuation\">}</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"../esbuild.base.mjs\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> settings <span class=\"token operator\">=</span> <span class=\"token function\">createBuildSettings</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  platform<span class=\"token operator\">:</span> <span class=\"token string\">\"node\"</span><span class=\"token punctuation\">,</span>\n  entryPoints<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"server/src/index.ts\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  outfile<span class=\"token operator\">:</span> <span class=\"token string\">\"dist/server/index.js\"</span><span class=\"token punctuation\">,</span>\n  tsconfigPath<span class=\"token operator\">:</span> <span class=\"token string\">\"server/tsconfig.json\"</span><span class=\"token punctuation\">,</span>\n  packages<span class=\"token operator\">:</span> <span class=\"token string\">\"external\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// avoid bundling modules in node_modules folder</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword control-flow\">await</span> esbuild<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">build</span><span class=\"token punctuation\">(</span>settings<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>One important caveat about ESBuild is that it <a href=\"https://esbuild.github.io/content-types/#:~:text=esbuild%20does%20not%20do%20any%20type%20checking\">does not include type checking</a>. However, you can run <code class=\"language-unknown\">tsc</code> in parallel with ESBuild. This allows you to leverage ESBuild‚Äôs speed for bundling while maintaining type safety through TypeScript's type checker, potentially speeding up your CI/CD performance.</p>\n<hr>\n<h3>Putting it all together</h3>\n<p>Here are the <code class=\"language-unknown\">scripts</code> defined in my <code class=\"language-unknown\">package.json</code>.</p>\n<div class=\"remark-highlight\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// package.json</span>\n\n<span class=\"token punctuation\">{</span>\n\t...\n\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"build:client\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node client/esbuild.mjs\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build:server\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node server/esbuild.mjs\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"concurrently \\\"npm:build:client\\\" \\\"npm:build:server\\\"\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node dist/server/index.js\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  ...\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>In summary, <code class=\"language-unknown\">build:client</code> and <code class=\"language-unknown\">build:server</code> bundle frontend and backend code respectively. <code class=\"language-unknown\">build</code> uses the <strong><code class=\"language-unknown\">concurrently</code></strong> package to run both <strong><code class=\"language-unknown\">build:client</code></strong> and <strong><code class=\"language-unknown\">build:server</code></strong> in parallel. And finally, <code class=\"language-unknown\">start</code> launches the Node.js server to serve the application. Open up <code class=\"language-unknown\">localhost:3000</code> in your browser and üéâ!</p>\n<p>Here‚Äôs <a href=\"https://github.com/suhanw/blog-react-node-typescript\">my repo</a> to see the whole thing come together.</p>\n","pin_order":11,"title":"React, Node, TypeScript in 2024","description":"Building a full stack React and Node web app with TypeScript and ESBuild","image":"https://www.suhanwijaya.com/images/react-node-typescript-2024.jpeg","tags":"javascript,webdev,typescript,react,node,esbuild","date":"2024-04-22"}},"__N_SSG":true}