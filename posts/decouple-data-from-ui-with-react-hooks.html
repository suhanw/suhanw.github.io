<!DOCTYPE html><html><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CZ0TSM98BL"></script><script>
									window.dataLayer = window.dataLayer || [];
									function gtag(){dataLayer.push(arguments)}
									gtag('js', new Date());
	
									gtag('config', 'G-CZ0TSM98BL');
							</script><meta charSet="utf-8"/><title>Decouple Data from UI with React Hooks by Suhan Wijaya</title><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="title" content="Decouple Data from UI with React Hooks by Suhan Wijaya"/><meta name="description" content="And how I ‚Äúprogram to an interface‚Äù with JavaScript functions"/><meta property="og:type" content="website"/><meta property="og:url" content="https://www.suhanwijaya.com/posts/decouple-data-from-ui-with-react-hooks"/><meta property="og:title" content="Decouple Data from UI with React Hooks by Suhan Wijaya"/><meta property="og:description" content="And how I ‚Äúprogram to an interface‚Äù with JavaScript functions"/><meta property="og:image" content="https://cdn-images-1.medium.com/max/540/1*F1CfUAi51VQA4NJd3Fj_cA.jpeg"/><meta name="twitter:title" content="Decouple Data from UI with React Hooks by Suhan Wijaya"/><meta name="twitter:description" content="And how I ‚Äúprogram to an interface‚Äù with JavaScript functions"/><meta name="twitter:image" content="https://cdn-images-1.medium.com/max/540/1*F1CfUAi51VQA4NJd3Fj_cA.jpeg"/><meta name="twitter:card" content="summary_large_image"/><link rel="canonical" href="https://medium.com/javascript-in-plain-english/decouple-data-from-ui-with-react-hooks-6f7fe968c3e3"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-okaidia.min.css" integrity="sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/styles.2bf41030.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.2bf41030.chunk.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-2aa5d59fa2bc0876ec00.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-147ea3ada7109f6dc0bb.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.abffcf18e526b7c0dbcd.js" as="script"/><link rel="preload" href="/_next/static/chunks/c8817c810ac732b2202d2ab097cea034b8097b3b.0aef9695673ee5c17c2c.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.ad9af38ab22c35f49d0b.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-569eabea28f105ba5387.js" as="script"/><link rel="preload" href="/_next/static/chunks/94c7f71a581012323aaafcd8ec305a3b3ff8b19c.296025ee889b05d87c83.js" as="script"/><link rel="preload" href="/_next/static/chunks/7989c093b81d86ddb0abfb342d5bc2e84730435d.76cacd00121b3f4f8856.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bid%5D-c86422cf736611b2eeb1.js" as="script"/></head><body><div id="__next"><div class="layout_GvkLX"><nav class="menu_2G6rj"><h2 class="name_10dbC">suhan <br/>wijaya</h2><ul class="menuItems_26ie3"><li class="menuItem_5m-L2"><a href="/#intro">INTRO</a></li><li class="menuItem_5m-L2"><a href="/#about">ABOUT</a></li><li class="menuItem_5m-L2"><a href="/#blog">BLOG</a></li><li class="menuItem_5m-L2"><a href="/#projects">PROJECTS</a></li><li class="menuItem_5m-L2"><a href="/#contact">CONTACT</a></li><li class="menuItem_5m-L2"><a href="/#toolbox">TOOLBOX</a></li></ul><a href="mailto:suhanw@gmail.com" target="_blank" class="email_3kN3h">suhanw@gmail.com</a><div class="social_3_hb2"><a href="https://www.linkedin.com/comm/in/suhanwijaya/" target="_blank"><img src="/images/linked-in.png" alt="Suhan&#x27;s LinkedIn profile"/></a><a href="https://x.com/suhanw" target="_blank"><img src="/images/twitter-x.png" alt="Suhan&#x27;s Twitter profile"/></a><a href="https://github.com/suhanw" target="_blank"><img src="/images/github.png" alt="Suhan&#x27;s GitHub profile"/></a></div><ul class="topMenuItems_3Vx-y"><li class="menuItem_5m-L2"><a href="/#blog">BACK TO HOME</a></li></ul></nav><button class="hamburger_3NkcE showHamburger_fsMIb"><img src="/images/hamburger.png"/></button><article class="contentWrapper_1Wy1l"><h1 class="title_29RlI">Decouple Data from UI with React Hooks</h1><div class="description_1Da_c">And how I ‚Äúprogram to an interface‚Äù with JavaScript functions</div><div class="date_2avFh"><time dateTime="2020-11-23">Nov 23, 2020</time><span class="socialIcons_2XzlR"><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.suhanwijaya.com/posts/decouple-data-from-ui-with-react-hooks" target="_blank" aria-label="Share this article on LinkedIn"><img src="/images/linkedin-share.png"/></a><a href="https://x.com/intent/tweet?text=Decouple Data from UI with React Hooks by Suhan Wijaya%20@suhanw%20https://www.suhanwijaya.com/posts/decouple-data-from-ui-with-react-hooks" target="_blank" aria-label="Share this article on Twitter"><img src="/images/twitter-x-share.png"/></a></span></div><div class="content_33yU5"><figure>
	<img src='https://cdn-images-1.medium.com/max/1024/1*Ysy1EpS9hF5J3qnkT5TX3A.png'>
	<figcaption>Source: <a href="https://imgur.com/gallery/CgWZFId">Imgur</a></figcaption>
</figure>
<hr>
<p>I‚Äòm certain you have seen (or written) this common React pattern: (a) render a placeholder/ loader/spinner while some data is fetched via AJAX, then (b) re-render the component based on the data received. Let‚Äôs write a functional component leveraging the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a> to accomplish this.</p>
<script src="https://gist.github.com/suhanw/b8aa23f97f06ddc3b068b2c2368e4ca2.js"></script>
<hr>
<p>Let‚Äôs say my app grows, and there are X components that use the same data fetching logic because‚Ä¶ reasons. To avoid spamming the server with data requests, I decide to use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">Local Storage</a> to cache the data.</p>
<p><strong>OK‚Ä¶ does that mean I need to update the data logic</strong>  <strong>X times? üò¨üò±</strong></p>
<p>Nope, let‚Äôs <a href="https://medium.com/better-programming/kiss-dry-and-code-principles-every-developer-should-follow-b77d89f51d74">DRY it up</a> by writing a custom hook <code class="language-unknown">useSomeData</code>.</p>
<script src='https://gist.github.com/suhanw/3e948918f96a1b7680bdeb86bbbbdaa2.js'></script>
<p>The components that share this data logic now look concise.</p>
<script src='https://gist.github.com/suhanw/9e23e8b61dfb58db45e280124b22fe55.js'></script>
<hr>
<p><strong>OK‚Ä¶ DRY code is great, but so what?</strong></p>
<p>Let‚Äôs say my app becomes complex, so I decide to use Redux to handle AJAX requests and maintain a global app state. I simply update the implementation of <code class="language-unknown">useSomeData</code> <em>without touching the UI components</em>.</p>
<script src='https://gist.github.com/suhanw/aac361c9ab4856eed2cf5d5531ce655b.js'></script>
<p>Then GraphQL comes along and I jump on the bandwagon. Again, I simply update the implementation of <code class="language-unknown">useSomeData</code> <em>without touching the UI components</em>.</p>
<script src='https://gist.github.com/suhanw/eaeebbf6afd44b7b5509ec74a27656f7.js'></script>
<hr>
<p><strong>Rinse and repeat whenever I‚Äôm compelled to update the data layer with the latest/hottest state management framework or API paradigm.</strong></p>
<p>To me, this looks a lot like the classic Dependency Inversion Principle, the ‚ÄúD‚Äù in SOLID (check out this excellent <a href="https://medium.com/better-programming/revisiting-solid-927e6a5202d3">explainer</a> by <a href="https://medium.com/u/12cc371abade">Matthew Lucas</a>). While this is not OOP by any means, where we formally define an abstract <code class="language-unknown">Interface</code> and create a concrete <code class="language-unknown">Class</code> that implements that <code class="language-unknown">Interface</code>, I would argue that there is a de facto ‚Äúinterface‚Äù that <code class="language-unknown">useSomeData</code> provides to the various UI components using it. In this example, the UI doesn‚Äôt care how <code class="language-unknown">useSomeData</code> works, as long as it receives <code class="language-unknown">someData</code>, <code class="language-unknown">loading</code>, and <code class="language-unknown">error</code> from the hook.</p>
<p><strong>So in theory, this frees the UI from being locked into any particular implementation of the data layer, and enables migrating to new implementations (frameworks/libraries/etc) without having to update the UI code, as long as the ‚Äúinterface‚Äù contract is honored.</strong></p>
<p>Curious to hear your thoughts.</p>
<figure>
	<img src='https://cdn-images-1.medium.com/max/540/1*F1CfUAi51VQA4NJd3Fj_cA.jpeg'>
	<figcaption>Source: <a href="https://www.pinterest.com/pin/333759022356307210/">Pinterest</a></figcaption>
</figure>
<hr>
<p><strong>P.S.</strong> The <a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0">Container pattern</a>, <a href="https://reactjs.org/docs/render-props.html">Render Props</a>, and <a href="https://reactjs.org/docs/higher-order-components.html">HOC</a> are popular options to decouple the data layer from the UI layer for classical components. This article is not meant to be a debate as to whether Hooks is better or worse. I‚Äôm simply sharing how I learned to use Hooks to apply the same separation of concerns.</p>
<hr>
<h3>Read More</h3>
<ul>
<li><a href="https://medium.com/javascript-in-plain-english/how-to-decouple-data-from-ui-in-react-d6b1516f4f0b">Decouple Data from UI in React Part 2</a></li>
<li><a href="https://medium.com/javascript-in-plain-english/intro-to-react-server-side-rendering-3c2af3782d08">Intro to React Server Side Rendering</a></li>
</ul>
</div><div class="footer_2PjJq"><span class="socialIcons_2XzlR"><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.suhanwijaya.com/posts/decouple-data-from-ui-with-react-hooks" target="_blank" aria-label="Share this article on LinkedIn"><img src="/images/linkedin-share.png"/></a><a href="https://x.com/intent/tweet?text=Decouple Data from UI with React Hooks by Suhan Wijaya%20@suhanw%20https://www.suhanwijaya.com/posts/decouple-data-from-ui-with-react-hooks" target="_blank" aria-label="Share this article on Twitter"><img src="/images/twitter-x-share.png"/></a></span></div><div class="author_3TJVZ"><a href="https://www.linkedin.com/comm/mynetwork/discovery-see-all?usecase=PEOPLE_FOLLOWS&amp;followMember=suhanwijaya"><img src="https://github.com/suhanw.png?size=200"/></a><span>Liked what you&#x27;ve read? <br/><a href="https://www.linkedin.com/comm/mynetwork/discovery-see-all?usecase=PEOPLE_FOLLOWS&amp;followMember=suhanwijaya">Follow me on LinkedIn!</a></span></div></article><nav class="bottomMenu_SThI5 mobileOnly_bZ-pA"><div class="authorMobile_IHm92"><a href="https://www.linkedin.com/comm/mynetwork/discovery-see-all?usecase=PEOPLE_FOLLOWS&amp;followMember=suhanwijaya"><img src="https://github.com/suhanw.png?size=200"/></a><span>Liked what you&#x27;ve read? <br/><a href="https://www.linkedin.com/comm/mynetwork/discovery-see-all?usecase=PEOPLE_FOLLOWS&amp;followMember=suhanwijaya">Follow me on LinkedIn!</a></span></div></nav></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"decouple-data-from-ui-with-react-hooks","contentHtml":"\u003cfigure\u003e\n\t\u003cimg src='https://cdn-images-1.medium.com/max/1024/1*Ysy1EpS9hF5J3qnkT5TX3A.png'\u003e\n\t\u003cfigcaption\u003eSource: \u003ca href=\"https://imgur.com/gallery/CgWZFId\"\u003eImgur\u003c/a\u003e\u003c/figcaption\u003e\n\u003c/figure\u003e\n\u003chr\u003e\n\u003cp\u003eI‚Äòm certain you have seen (or written) this common React pattern: (a) render a placeholder/ loader/spinner while some data is fetched via AJAX, then (b) re-render the component based on the data received. Let‚Äôs write a functional component leveraging the \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\"\u003eFetch API\u003c/a\u003e to accomplish this.\u003c/p\u003e\n\u003cscript src=\"https://gist.github.com/suhanw/b8aa23f97f06ddc3b068b2c2368e4ca2.js\"\u003e\u003c/script\u003e\n\u003chr\u003e\n\u003cp\u003eLet‚Äôs say my app grows, and there are X components that use the same data fetching logic because‚Ä¶ reasons. To avoid spamming the server with data requests, I decide to use \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\"\u003eLocal Storage\u003c/a\u003e to cache the data.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eOK‚Ä¶ does that mean I need to update the data logic\u003c/strong\u003e  \u003cstrong\u003eX times? üò¨üò±\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eNope, let‚Äôs \u003ca href=\"https://medium.com/better-programming/kiss-dry-and-code-principles-every-developer-should-follow-b77d89f51d74\"\u003eDRY it up\u003c/a\u003e by writing a custom hook \u003ccode class=\"language-unknown\"\u003euseSomeData\u003c/code\u003e.\u003c/p\u003e\n\u003cscript src='https://gist.github.com/suhanw/3e948918f96a1b7680bdeb86bbbbdaa2.js'\u003e\u003c/script\u003e\n\u003cp\u003eThe components that share this data logic now look concise.\u003c/p\u003e\n\u003cscript src='https://gist.github.com/suhanw/9e23e8b61dfb58db45e280124b22fe55.js'\u003e\u003c/script\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003eOK‚Ä¶ DRY code is great, but so what?\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eLet‚Äôs say my app becomes complex, so I decide to use Redux to handle AJAX requests and maintain a global app state. I simply update the implementation of \u003ccode class=\"language-unknown\"\u003euseSomeData\u003c/code\u003e \u003cem\u003ewithout touching the UI components\u003c/em\u003e.\u003c/p\u003e\n\u003cscript src='https://gist.github.com/suhanw/aac361c9ab4856eed2cf5d5531ce655b.js'\u003e\u003c/script\u003e\n\u003cp\u003eThen GraphQL comes along and I jump on the bandwagon. Again, I simply update the implementation of \u003ccode class=\"language-unknown\"\u003euseSomeData\u003c/code\u003e \u003cem\u003ewithout touching the UI components\u003c/em\u003e.\u003c/p\u003e\n\u003cscript src='https://gist.github.com/suhanw/eaeebbf6afd44b7b5509ec74a27656f7.js'\u003e\u003c/script\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003eRinse and repeat whenever I‚Äôm compelled to update the data layer with the latest/hottest state management framework or API paradigm.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eTo me, this looks a lot like the classic Dependency Inversion Principle, the ‚ÄúD‚Äù in SOLID (check out this excellent \u003ca href=\"https://medium.com/better-programming/revisiting-solid-927e6a5202d3\"\u003eexplainer\u003c/a\u003e by \u003ca href=\"https://medium.com/u/12cc371abade\"\u003eMatthew Lucas\u003c/a\u003e). While this is not OOP by any means, where we formally define an abstract \u003ccode class=\"language-unknown\"\u003eInterface\u003c/code\u003e and create a concrete \u003ccode class=\"language-unknown\"\u003eClass\u003c/code\u003e that implements that \u003ccode class=\"language-unknown\"\u003eInterface\u003c/code\u003e, I would argue that there is a de facto ‚Äúinterface‚Äù that \u003ccode class=\"language-unknown\"\u003euseSomeData\u003c/code\u003e provides to the various UI components using it. In this example, the UI doesn‚Äôt care how \u003ccode class=\"language-unknown\"\u003euseSomeData\u003c/code\u003e works, as long as it receives \u003ccode class=\"language-unknown\"\u003esomeData\u003c/code\u003e, \u003ccode class=\"language-unknown\"\u003eloading\u003c/code\u003e, and \u003ccode class=\"language-unknown\"\u003eerror\u003c/code\u003e from the hook.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSo in theory, this frees the UI from being locked into any particular implementation of the data layer, and enables migrating to new implementations (frameworks/libraries/etc) without having to update the UI code, as long as the ‚Äúinterface‚Äù contract is honored.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eCurious to hear your thoughts.\u003c/p\u003e\n\u003cfigure\u003e\n\t\u003cimg src='https://cdn-images-1.medium.com/max/540/1*F1CfUAi51VQA4NJd3Fj_cA.jpeg'\u003e\n\t\u003cfigcaption\u003eSource: \u003ca href=\"https://www.pinterest.com/pin/333759022356307210/\"\u003ePinterest\u003c/a\u003e\u003c/figcaption\u003e\n\u003c/figure\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003eP.S.\u003c/strong\u003e The \u003ca href=\"https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0\"\u003eContainer pattern\u003c/a\u003e, \u003ca href=\"https://reactjs.org/docs/render-props.html\"\u003eRender Props\u003c/a\u003e, and \u003ca href=\"https://reactjs.org/docs/higher-order-components.html\"\u003eHOC\u003c/a\u003e are popular options to decouple the data layer from the UI layer for classical components. This article is not meant to be a debate as to whether Hooks is better or worse. I‚Äôm simply sharing how I learned to use Hooks to apply the same separation of concerns.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3\u003eRead More\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://medium.com/javascript-in-plain-english/how-to-decouple-data-from-ui-in-react-d6b1516f4f0b\"\u003eDecouple Data from UI in React Part 2\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://medium.com/javascript-in-plain-english/intro-to-react-server-side-rendering-3c2af3782d08\"\u003eIntro to React Server Side Rendering\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","pin_order":3,"title":"Decouple Data from UI with React Hooks","description":"And how I ‚Äúprogram to an interface‚Äù with JavaScript functions","image":"https://cdn-images-1.medium.com/max/540/1*F1CfUAi51VQA4NJd3Fj_cA.jpeg","tags":"softwaredesign,javascript,react,webdev","canonical_url":"https://medium.com/javascript-in-plain-english/decouple-data-from-ui-with-react-hooks-6f7fe968c3e3","date":"2020-11-23"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"decouple-data-from-ui-with-react-hooks"},"buildId":"OV6uOtkhf-2d8pVlUKw0T","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-bd76d82fced59b097afe.js"></script><script src="/_next/static/chunks/main-2aa5d59fa2bc0876ec00.js" async=""></script><script src="/_next/static/chunks/webpack-147ea3ada7109f6dc0bb.js" async=""></script><script src="/_next/static/chunks/framework.abffcf18e526b7c0dbcd.js" async=""></script><script src="/_next/static/chunks/c8817c810ac732b2202d2ab097cea034b8097b3b.0aef9695673ee5c17c2c.js" async=""></script><script src="/_next/static/chunks/styles.ad9af38ab22c35f49d0b.js" async=""></script><script src="/_next/static/chunks/pages/_app-569eabea28f105ba5387.js" async=""></script><script src="/_next/static/chunks/94c7f71a581012323aaafcd8ec305a3b3ff8b19c.296025ee889b05d87c83.js" async=""></script><script src="/_next/static/chunks/7989c093b81d86ddb0abfb342d5bc2e84730435d.76cacd00121b3f4f8856.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-c86422cf736611b2eeb1.js" async=""></script><script src="/_next/static/OV6uOtkhf-2d8pVlUKw0T/_buildManifest.js" async=""></script><script src="/_next/static/OV6uOtkhf-2d8pVlUKw0T/_ssgManifest.js" async=""></script></body></html>